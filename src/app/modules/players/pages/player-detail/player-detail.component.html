<div class="pt-14 min-h-screen bg-gradient-subtle">
  <main class="container mx-auto px-4 lg:px-8 py-8">
    <!-- Back Button -->
    <app-back-button/>

    <!-- Player Header -->
    @if (player.data(); as player) {
      <div class="bg-card border border-border rounded-lg shadow-card p-6 mb-8">
        <div class="flex flex-col md:flex-row gap-6 items-start md:items-center">
          <img
            [src]="player.id | avatar"
            [alt]="player.name"
            class="w-32 h-32 rounded-lg object-cover border-2 border-border">

          <div class="flex-1">
            <div class="flex items-center gap-3 mb-3">
              <h1 class="text-4xl font-bold text-foreground">
                {{ player.name }} {{ player.last_name }}
              </h1>
              <span class="px-3 py-1 rounded-full text-xs font-semibold border bg-primary/20 text-primary border-primary/30">
                {{ player.position.toUpperCase() }}
              </span>
            </div>

            <div class=" mb-4">
              <span class="text-5xl font-bold text-foreground">
                # {{ player.number }}
              </span>
            </div>
          </div>
        </div>
      </div>
    }

    <!-- Stats Overview -->
    <div class="grid grid-cols-1 md:grid-cols-3 gap-6 mb-8">
      <!-- Partidos Jugados -->
      <div class="p-8 bg-card border border-border rounded-lg shadow-card hover:shadow-elevated transition-all">
        <div class="flex items-center gap-3 mb-3">
          <svg xmlns="http://www.w3.org/2000/svg" class="w-6 h-6 text-primary" fill="none" viewBox="0 0 24 24" stroke="currentColor">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 3v4M3 5h4M6 17v4m-2-2h4m5-16l2.286 6.857L21 12l-5.714 2.143L13 21l-2.286-6.857L5 12l5.714-2.143L13 3z" />
          </svg>
          <p class="text-sm text-muted-foreground uppercase tracking-wide">Games played</p>
        </div>
        <p class="text-5xl font-bold text-foreground">{{ stats.data()?.total_games }}</p>
      </div>

      <!-- Puntos Totales -->
      <div class="p-8 bg-card border border-border rounded-lg shadow-card hover:shadow-elevated transition-all">
        <div class="flex items-center gap-3 mb-3">
          <svg xmlns="http://www.w3.org/2000/svg" class="w-6 h-6 text-accent" fill="none" viewBox="0 0 24 24" stroke="currentColor">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 3v4M3 5h4M6 17v4m-2-2h4m5-16l2.286 6.857L21 12l-5.714 2.143L13 21l-2.286-6.857L5 12l5.714-2.143L13 3z" />
          </svg>
          <p class="text-sm text-muted-foreground uppercase tracking-wide">Total Points</p>
        </div>
        <p class="text-5xl font-bold text-foreground">{{ stats.data()?.total_points }}</p>
        <p class="text-sm text-muted-foreground mt-2">{{ stats.data()?.average_points }} PPG</p>
      </div>

      <!-- Faltas Totales -->
      <div class="p-8 bg-card border border-border rounded-lg shadow-card hover:shadow-elevated transition-all">
        <div class="flex items-center gap-3 mb-3">
          <svg xmlns="http://www.w3.org/2000/svg" class="w-6 h-6 text-destructive" fill="none" viewBox="0 0 24 24" stroke="currentColor">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z" />
          </svg>
          <p class="text-sm text-muted-foreground uppercase tracking-wide">Total Fouls</p>
        </div>
        <p class="text-5xl font-bold text-foreground"> {{ stats.data()?.total_fouls }} </p>
        <p class="text-sm text-muted-foreground mt-2"> {{ stats.data()?.average_fouls }}FPG</p>
      </div>
    </div>

    <!-- Advanced Stats -->
    <div class="bg-card border border-border rounded-lg shadow-card p-8">
      <h2 class="text-3xl font-bold text-foreground mb-6">Last 5 games</h2>
      <app-history-stats [id]="playerId()" />
    </div>
  </main>
</div>
